<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: ApiCall.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: ApiCall.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>import axios from "axios";
// const apiData = "http://localhost:3001/UserMainDataMock.json";
// const apiDataActivity = "http://localhost:3001/UserActivityMock.json";
// const apiDataSessions = "http://localhost:3001/UserAverageSessionsMock.json";
// const apiDataPerf = "http://localhost:3001/UserPerformanceMock.json";
// const apiTest = "http://localhost:3000/user/12/activity";


// const interface = {
//   mode:"dev",
//   getUrl:function () {
//    // window location recuperer la partie host et la partie port et retourner la partie host+port
//   },
//   getEndpointActivity: function (userId) {
//     return `${interface.getUrl()}/${userId}/activity`
//   }
// }



// je cree apres un mode "prod" qui lui prendra en compte l'api du backend
// dans mes fonction au lieu d'appeler apiData j'appellerai interface.getEndPointActivity etc


var mode = '';

/**
 * Export users data with id
 * @param { Number } id 
 * @returns { Object }
 */


export async function getUserData(id) {
  var myUrl = '';
  var dataResult = '';
  // mode = 'dev';
  mode = 'prod';
  
  if (mode === 'dev') {
    myUrl = 'http://localhost:3001/UserMainDataMock.json';
    const dataAxios = await (await axios.get(myUrl)).data;
    const axiosResult = dataAxios.find((user) => user.id.toString() === id.toString());
    dataResult = axiosResult;
   
    
  }else if (mode === 'prod') {
    myUrl = 'http://localhost:3000/user/12';
    const axiosResult = await (await axios.get(myUrl)).data;
    dataResult = axiosResult.data;
    
  }else{
    return (
      &lt;div>
        &lt;p>ErrorAPI&lt;/p>
      &lt;/div>
    )
  }
  return dataResult;
}

/**
 * Export activity datas with id
 * @param { Number } id 
 * @returns { Array }
 */

export async function getUsersDataAct(id) {
  var myUrl = '';
  var dataResult = '';
  // mode = 'dev';
  mode = 'prod';
  
  if (mode === 'dev') {
    myUrl = 'http://localhost:3001/UserActivityMock.json';
    const dataAxios = await (await axios.get(myUrl)).data;
    const axiosResult = await dataAxios.find(
    (user) => user.userId.toString() === id.toString()  
    );
    dataResult = axiosResult;
    console.log("%c%s%c element:%o", "color: purple;", "fonction: getUsersDataAct", "", dataResult);
    
  }else if (mode === 'prod') {
    myUrl = 'http://localhost:3000/user/12/activity';
    const axiosResult = await (await axios.get(myUrl)).data;
    dataResult = axiosResult.data;
    console.log("%c%s%c element:%o", "color: yellow;", "fonction: getUsersDataAct", "", dataResult);
  }else{
    return (
      &lt;div>
        &lt;p>ErrorAPI&lt;/p>
      &lt;/div>
    )
  }
  return dataResult;
}

/**
 * Export sessions datas with id
 * @param { Number } id 
 * @returns { Array }
 */

export async function getUsersDataSessions(id) {
  var myUrl = '';
  var dataResult = '';
  // mode = 'dev';
  mode = 'prod';
  
  if (mode === 'dev') {
    myUrl = 'http://localhost:3001/UserAverageSessionsMock.json';
    const dataAxios = await (await axios.get(myUrl)).data;
    const axiosResult = await dataAxios.find(
    (user) => user.userId.toString() === id.toString()  
    );
    dataResult = axiosResult;
    
  }else if (mode === 'prod') {
    myUrl = 'http://localhost:3000/user/12/average-sessions';
    const axiosResult = await (await axios.get(myUrl)).data;
    dataResult = axiosResult.data;
    
  }else{
    return (
      &lt;div>
        &lt;p>ErrorAPI&lt;/p>
      &lt;/div>
    )
  }
  return dataResult;
}


/**
 * Export perfomances datas with id
 * @param { Number } id 
 * @returns { Object }
 */

export async function getUsersDataPerf(id) {
  var myUrl = '';
  var dataResult = '';
  // mode = 'dev';
  mode = 'prod';
  
  if (mode === 'dev') {
    myUrl = 'http://localhost:3001/UserPerformanceMock.json';
    const dataAxios = await (await axios.get(myUrl)).data;
    const axiosResult = await dataAxios.find(
    (user) => user.userId.toString() === id.toString()  
    );
    dataResult = axiosResult;
    
  }else if (mode === 'prod') {
    myUrl = 'http://localhost:3000/user/12/performance';
    const axiosResult = await (await axios.get(myUrl)).data;
    dataResult = axiosResult.data;
    
  }else{
    return (
      &lt;div>
        &lt;p>ErrorAPI&lt;/p>
      &lt;/div>
    )
  }
  return dataResult;
}




// export async function getUserData(id) {
//   const users = await (await axios.get(apiData)).data;
//   const data = users.find((user) => user.id.toString() === id.toString());
//   return data;
// }

// export async function getUsersDataAct(id) {
//   const usersAct = await (await axios.get(apiDataActivity)).data;
//   const data = await usersAct.find(
//     (user) => user.userId.toString() === id.toString()
//   );
//   return data;
// }

// export async function getUsersDataSessions(id) {
//   const usersSessions = await (await axios.get(apiDataSessions)).data;
//   const data = await usersSessions.find(
//     (user) => user.userId.toString() === id.toString()
//   );
//   return data;
// }

// // export async function getUsersDataPerf(id) {
// //   const usersPerf = await (await axios.get(apiDataPerf)).data;
// //   const data = await usersPerf.find(
// //     (user) => user.userId.toString() === id.toString()
// //   );
// //   return data;
// }</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Global</h3><ul><li><a href="global.html#getUserData">getUserData</a></li><li><a href="global.html#getUsersDataAct">getUsersDataAct</a></li><li><a href="global.html#getUsersDataPerf">getUsersDataPerf</a></li><li><a href="global.html#getUsersDataSessions">getUsersDataSessions</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 4.0.2</a> on Wed May 24 2023 19:58:51 GMT+0200 (heure d’été d’Europe centrale)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
